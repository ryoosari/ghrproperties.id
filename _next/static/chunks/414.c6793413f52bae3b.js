"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[414],{7414:function(e,t,l){l.r(t),l.d(t,{default:function(){return r}});var n=l(7437),a=l(2265);let o={Seminyak:{lat:-8.6913,lng:115.1682},Kuta:{lat:-8.7214,lng:115.1722},Ubud:{lat:-8.5069,lng:115.2625},Canggu:{lat:-8.6478,lng:115.1385},Sanur:{lat:-8.6788,lng:115.2636},Denpasar:{lat:-8.6705,lng:115.2126},"Nusa Dua":{lat:-8.8008,lng:115.2317},Jimbaran:{lat:-8.7908,lng:115.1576},Legian:{lat:-8.7052,lng:115.171},Uluwatu:{lat:-8.8291,lng:115.0849},Tabanan:{lat:-8.5446,lng:115.1321},Amed:{lat:-8.3297,lng:115.6374},Lovina:{lat:-8.1566,lng:115.0255},Candidasa:{lat:-8.5012,lng:115.557},"Padang Bai":{lat:-8.5308,lng:115.5126},Bali:{lat:-8.3405,lng:115.092}};function r(e){let{propertyData:t,height:l="400px",estimateRadius:r=300}=e,i=(0,a.useRef)(null),[c,s]=(0,a.useState)(null),[u,d]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{console.log("PropertyMap component received data:",JSON.stringify(t,null,2))},[t]),(0,a.useEffect)(()=>{if(i.current&&(i.current.innerHTML=""),i.current)try{let e,l;let n=null!=t.latitude&&null!=t.longitude&&!isNaN(t.latitude)&&!isNaN(t.longitude)&&0!==t.latitude&&0!==t.longitude,a={"Vero Selaras":{lat:-8.555088,lng:115.270384}},r=t.title||"",c=Object.keys(a).find(e=>r.includes(e));if(c)e=a[c].lat,l=a[c].lng,console.log("Using known coordinates for ".concat(c,": ").concat(e,", ").concat(l));else if(n)e=t.latitude,l=t.longitude,console.log("Using exact coordinates: ".concat(e,", ").concat(l));else{let n=function(e){if(!e)return o.Bali;let t=e.trim();for(let[e,l]of Object.entries(o))if(t.includes(e))return l;for(let[e,l]of Object.entries(o))if(t.toLowerCase().includes(e.toLowerCase()))return l;return o.Bali}(t.location||t.address);e=n.lat,l=n.lng,console.log("Using approximate coordinates from location: ".concat(e,", ").concat(l))}console.log("Final coordinates used for map: ".concat(e,", ").concat(l));let s=document.createElement("iframe");s.style.width="100%",s.style.height="100%",s.style.border="none",s.setAttribute("loading","lazy"),s.setAttribute("referrerpolicy","no-referrer-when-downgrade"),s.setAttribute("allowfullscreen","true"),s.src="https://maps.google.com/maps?q=".concat(e,",").concat(l,"&z=").concat(n||c?15:13,"&output=embed"),console.log("Map iframe source:",s.src),i.current.appendChild(s),d(!0)}catch(e){console.error("Error initializing map:",e),s("Failed to load map. Please try again later.")}},[t,l,r]),(0,n.jsxs)("div",{style:{width:"100%",height:l,position:"relative",borderRadius:"8px",overflow:"hidden"},children:[(0,n.jsx)("div",{ref:i,style:{width:"100%",height:"100%"}}),c&&(0,n.jsx)("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255,255,255,0.9)",display:"flex",alignItems:"center",justifyContent:"center",padding:"20px",textAlign:"center"},children:(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{style:{color:"#e53e3e",marginBottom:"8px"},children:c}),(0,n.jsx)("p",{style:{fontSize:"14px",color:"#666"},children:"Please try refreshing the page."})]})})]})}}}]);